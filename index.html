<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<title>Love Days</title>
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body{display:flex;height:100vh;justify-content:center;align-items:center;
       background:linear-gradient(135deg,#ffeef8 0%, #fff0f8 100%);font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","PingFang SC",sans-serif}
  .card{background:rgba(255,255,255,.45);border-radius:20px;padding:10vw 8vw;
        box-shadow:0 8px 32px rgba(255,0,102,.15);text-align:center}
  #num{font-size:18vw;color:#ff0066;font-weight:700;line-height:1}
  #label{font-size:5vw;color:#666;margin-top:1vh}
  #date{font-size:3.2vw;color:#999;margin-top:3vh}
  #heart{font-size:6vw;display:inline-block;animation:beat 1.2s infinite}
  @keyframes beat{0%,100%{transform:scale(1)}50%{transform:scale(1.15)}}
</style>
</head>
<body>
<div class="card">
  <div id="num"></div>
  <div id="label">days together</div>
  <div id="date"></div>
  <div id="heart">ğŸ’—</div>
</div>
<script>
const day1 = new Date('2025-09-07T00:00:00');   // â† æ”¹æˆä½ ä»¬è‡ªå·±çš„çºªå¿µæ—¥
const today = new Date();
const days = Math.floor((today - day1) / 86400000) + 1;
const goal = 365;
const percent = (days / goal * 100).toFixed(3);
document.getElementById('num').textContent = days;
document.getElementById('date').textContent = today.toLocaleDateString('zh-CN');

 // åŠ¨æ€æ’å…¥è¿›åº¦æ¡
const bar = document.createElement('div');
bar.style.cssText = `width:70vw;height:6px;background:#eee;border-radius:3px;margin:3vh auto 0;overflow:hidden`;
bar.innerHTML = `<div style="width:${percent}%;height:100%;background:linear-gradient(90deg,#ff0066,#ff99cc);transition:width .8s"></div>`;
document.querySelector('.card').appendChild(bar);
</script>
<!-- å å±‚å¼¹çª—å¼€å§‹ -->
<script>
/* ====== å¯éšæ‰‹æ”¹çš„å‚æ•° ====== */
const POP_TEXT = [
  'ğŸ’å®å®æˆ‘åœ¨æƒ³ä½ ',
  'ä»Šå¤©ä¹Ÿæœ‰å·å·å–œæ¬¢ä½ ',
  'å¤šå–æ°´ï¼Œåˆ«ç†¬å¤œ',
  'ğŸ’é£å¾ˆæ¸©æŸ”ï¼Œä½ ä¹Ÿæ˜¯',
  'æŒ‰æ—¶å»åƒé¥­',
  'ğŸ’•å¤©é€ åœ°è®¾è¿™ä¸€å—',
  'æƒ³ä½ æƒ³ä½ æƒ³ä½ ',
  'å‡ºé—¨è¦å¸¦ä¼',
  'ä½ æ˜¯ä¸–ç•Œä¸Šæœ€å¯çˆ±æœ€æ£’çš„çš„å®å®',
  'ç­‰æˆ‘ç­‰æˆ‘ç­‰æˆ‘',
  'ğŸ’—å°ç“¶å’Œå°å¹³',
  'ä½ æƒ³è¦çš„ï¼Œæˆ‘éƒ½æƒ³ç»™ä½ ',
  'æ³¨æ„ç©¿æ­ï¼Œç©¿åšç‚¹',
  'å®å®ä½ ä»Šå¤©è¾›è‹¦äº†',
  'ğŸ’–æˆ‘çš„åŒ—äº¬å…„å¼Ÿ',
  'ğŸ’ æ°¸è¿œ',
  'ğŸ’– çˆ±ä½ ',
  'â¤ï¸ ä½ æ˜¯æˆ‘çˆ±çš„å¥³å­©ï¼Œæœ€çˆ±çš„å¥³å­©'
];
const MAX_POP   = 120;        // åŒæ—¶å­˜åœ¨çš„æœ€å¤§å¼¹çª—æ•°
const LIFE      = 5000;      // ä»å‡ºç°åˆ°å®Œå…¨ç§»é™¤çš„æ—¶é•¿ï¼ˆmsï¼‰
const FADE_AFTER= 3000;       // å¤šä¹…åå¼€å§‹æ·¡å‡º
const FONT_SIZE = 18;        // å­—å·ï¼ˆpxï¼‰

/* ====== é€»è¾‘ä»£ç  ====== */
let curr = 0;
function makePop(){
  if(curr >= MAX_POP) return;   // è¾¾åˆ°ä¸Šé™å°±åœ
  curr++;

  const div = document.createElement('div');
  div.style.cssText = `
    position:fixed;
    left:${Math.random()*(window.innerWidth-150)}px;
    top:${Math.random()*(window.innerHeight-60)}px;
    padding:10px 18px;
    font-size:${FONT_SIZE}px;
    font-weight:bold;
    color:#fff;
    background:${'hsl('+Math.random()*360+',80%,60%)'};
    border-radius:12px;
    box-shadow:0 4px 14px rgba(0,0,0,.25);
    z-index:${9999+curr};
    transition:opacity .7s;
    pointer-events:none;`;
  div.textContent = POP_TEXT[Math.random()*POP_TEXT.length|0];
  document.body.appendChild(div);

  // æ·¡å‡ºâ†’ç§»é™¤
  setTimeout(()=>div.style.opacity=0,FADE_AFTER);
  setTimeout(()=>{
    div.remove();
    curr--;
  },LIFE);
}

// é¡µé¢åŠ è½½å®Œå°±å¼€å§‹
window.addEventListener('load',()=>{
  /* 1. ç¬¬ä¸€æ³¢è¿å‘ 60 ä¸ª */
  for(let i=0;i<MAX_POP;i++){
    setTimeout(makePop,i*80);
  }

  /* 2. ä¸å†è¡¥å…… â€”â€” æŠŠåŸæ¥çš„ setInterval åˆ æ‰å³å¯ */
    // ä¹‹åæŒç»­è¡¥ä½ï¼Œä¿æŒæ»¡å±
  // setInterval(()=>{
  //   if(curr<MAX_POP) makePop();
  // },150);
  /* 3. å¦‚æœæƒ³ 10 ç§’åå½»åº•ç†„ç«ï¼ˆå¯é€‰ï¼‰ï¼Œå¯å†ç•™ä¸€ä¸ªä¿é™© */
  setTimeout(()=>{
    console.log('å¼¹çª—å…¨éƒ¨ç»“æŸï¼Œé¡µé¢å®‰é™äº†~');
  },LIFE+500);   // LIFE=2000ï¼Œè¿™é‡Œ 2.5 ç§’åæ‰“å°ï¼Œä»…ä½œæç¤º
});
</script>
<!-- å å±‚å¼¹çª—ç»“æŸ -->
</body>
</html>
